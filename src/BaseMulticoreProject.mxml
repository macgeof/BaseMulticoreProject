<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   applicationDPI="160"
			   creationComplete="facade.startup(this)">
	
	<fx:Metadata>
		[Event('logLevel')]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import com.generatorsystems.base.cores.tools.messages.LogMessage;
			import com.generatorsystems.projects.multicoredemo.ApplicationFacade;
			
			import mx.effects.easing.*;
			
			import spark.components.Button;
		
		private var facade:ApplicationFacade = ApplicationFacade.getInstance(NAME);
		
		public static const LOG_LEVEL:String  	= "logLevel";
		public static const NAME:String 		= 'BaseMulticoreProject';
		
		[Bindable] public var logLevel:Number; 

		private var _logButton:Button;
		
		/**
		* Adds the module-manufactured LogButton to the 
		* view for display.
		*/
		public function addLogButton(logButton:Button):void
		{
			_logButton = logButton;
			trace("PRE : button = " + logButton + " : _logButton = " + _logButton + " : " +toolbarRight.numChildren);
			toolbarRight.addChild(logButton);
			trace("POST : " + toolbarRight.numChildren);
		}
		
		/**
		* Adds the module-manufactured LogWindows to the 
		* view for display.
		*/
		public function addLogWindow(logWindow:DisplayObject):void
		{
			logBox.addChildAt(logWindow,0);
		}
		
		/**
		* Remove the module-manufactured LogWindow from the 
		* view.
		*/
		public function removeLogWindow(logWindow:DisplayObject):void
		{
			logBox.removeChild(logWindow);
		}
		
		/**
		* Dispatch events.
		*/
		private function submit( action:String ):void
		{
			switch ( action )
			{
				
			/* 	case LOG_LEVEL:
					logLevel = cmbLogLevel.selectedIndex;
					dispatchEvent( new Event( LOG_LEVEL, true ));
					break; */
			}
		}
		]]>
	</fx:Script>
	<fx:Declarations>
	</fx:Declarations>
	
	
	<s:HGroup>
		<!-- The Title, and eventual container for the Log Button -->
		<!-- Log Box -->
		<s:VGroup id="toolbarRight" width="100%" horizontalAlign="right"
				  verticalAlign="middle">
			<!--<s:Label text="Log Level:"/>
			<s:ComboBox id="cmbLogLevel" change="submit( LOG_LEVEL )"
						dataProvider="{LogMessage.LEVELS}" selectedIndex="{LogMessage.DEBUG}"/>-->
		</s:VGroup>
	</s:HGroup>
	
	<!-- The Log Window and Prattler Tile -->
	<s:VGroup id="logBox" width="100%" height="100%">
	</s:VGroup>
</s:Application>
